<odoo>
  <data>

    <record id="book_search_view" model="ir.ui.view">
      <field name="name">book.search.view</field>
      <field name="model">book</field>
      <field name="arch" type="xml">
        <search>
          <field name="name" />
          <field name="isbn" />
          <field name="author" />
          <field name="genre" />
          <field name="category" />
          <field name="editorial" />
          <field name="tags" />
        </search>
      </field>
    </record>

    <record id="book_tree_view" model="ir.ui.view">
      <field name="name">book.tree.view</field>
      <field name="model">book</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name" />
          <field name="author" />
          <field name="editorial" />
          <field name="genre" />
        </tree>
      </field>
    </record>

    <record id="book_form_view" model="ir.ui.view">
      <field name="name">book.form.view</field>
      <field name="model">book</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <button class="btn btn-primary" type="object" string="Available"
              name="action_available"
              invisible="state not in ('borrowed', 'damaged', 'lost', 'repairing','not available','archived')" />
            <button class="btn btn-primary" type="object" string="Borrowed" name="action_borrowed"
              invisible="state not in ('available', 'damaged', 'lost', 'repairing','not available','archived')" />
            <button class="btn"
              type="object" string="Damaged"
              name="action_damaged"
              invisible="state not in ('borrowed', 'available', 'lost', 'repairing','not available','archived')" />
            <button class="btn"
              type="object" string="Repairing"
              name="action_repairing"
              invisible="state not in ('borrowed', 'damaged', 'lost', 'available','not available','archived')" />
            <button class="btn" type="object" string="Lost" name="action_lost"
              invisible="state not in ('borrowed', 'damaged', 'available', 'repairing','available', 'not available', 'archived')" />
            <button type="object" string="Not available" name="action_not_available"
              invisible="state not in ('borrowed', 'damaged', 'lost', 'repairing','available','archived')" />
            <button type="object" string="Archived" name="action_archived"
              invisible="state not in ('borrowed', 'damaged', 'lost', 'repairing','not available','available')" />
            <field widget="statusbar" readonly="0" name="state"
              statusbar_visible="available, borrowed, damaged, repairing, lost, not available, archived" />
          </header>
          <sheet>
            <group>
              <group>
                <field name="name" />
              </group>
              <group>
                <field name="author" />
              </group>
              <group>
                <field name="isbn" />
              </group>
              <group>
                <field name="editorial" />
              </group>
            </group>
            <group>
              <group>
                <field name="genre" widget="many2many_tags" options="{'color_field': 'color'}" />
              </group>
              <group>
                <field name="published_date" />
              </group>
            </group>
            <notebook>
              <page string="Loans">
                <field name="loans">
                  <tree>
                    <field name="partner_id" string="Contact"/>
                    <field name="start_date" string="Start Date"/>
                    <field name="end_date" string="End Date"/>
                  </tree>
                </field>
              </page>
              <page string="Reservations">
                <field name="reservations" />
              </page>
              <page string="Other information">
                <group>
                  <field name="tags" widget="many2many_tags" options="{'color_field': 'color'}" />
                </group>
                <group>
                  <field name="category" widget="many2many_tags" options="{'color_field': 'color'}" />
                </group>
                <group>
                  <field name="summary" />
                </group>
                <group>
                  <field name="description" />
                </group>
                <group>
                  <field name="active" />
                </group>
              </page>
            </notebook>
          </sheet>
          <div class="oe_chatter">
            <field widget="mail_thread" name="message_ids" />
            <field widget="mail_activity" name="activity_ids" />
          </div>
        </form>
      </field>
    </record>

    <record id="book_action" model="ir.actions.act_window">
      <field name="name">Books</field>
      <field name="res_model">book</field>
      <field name="view_mode">search,tree,form</field>
    </record>

  </data>
</odoo>
